digraph  {
    label=LL
    ranksep=0.4
    subgraph cluster{
        label=before
        X->5
        5->3
        3->1
        
        1[style=dashed]
        node[style=invis]
        edge[style=invis]
        5->R
        R->0
        3->R3
    }
    
    subgraph cluster2{
        label=after
        X2->3.
        3.->1.
        3.->5.

        1.[label=1,style=dashed]
        5.[label=5]
        3.[label=3]
        X2[label=X]
    }
}
